## 把Meshtastic拆成三层：硬件设备+软件工具=各种功能

- 我在玩家交流群里经常可以看到的图片分为两类，第一类是某种设备的照片，第二类是某个软件的截图；对于我这种最普通初学者而言，疑惑主要就在于“`你这个东西是做什么用的？`”和“`你这是什么软件？`”。  
   
- 第一类——有关硬件设备的问题，我把目前的Meshtastic这个一整个东西拆成ABCD四个模块，目前Meshtastic设备大致是由这四个模块拼起来的。  
  
- 第二类——有关软件的问题，一方面，就是各种手机App的截图或者电脑屏幕的截图，一般都是在展示某种软件工具，这些【**工具**】我用T1-Tn来表示（`例如：一把砍刀，我暂定为T1`）；另一方面，某个软件T实际上就是用来实现各种各样的功能，这些【**功能**】我用S1-S15来表示（`例如：劈柴暂定为S1，切蔬菜暂定为S2，等等`）。而这些工具之所以能实现这样的功能，又是硬件ABCD提供的（`T1砍刀之所以能实现S1劈柴，是由A刀刃、B刀柄、C等等之类的组合起来提供的`）。  

- ABCD的出现有先有后。比方说，先出现A，A能实现一些功能S1S2；过了几年出现B，B能实现一些功能S3S4；又过了几年有人想要实现S5，于是促进发明了C。等等等等。时至今日，ABCD齐备的时候有人想到能组合成T1，实现S1-S8。我觉得了解技术的发展脉络有助于理解技术的本质，昨天有[这一篇笔记](../content/mesh20251119.md)可以参考。（昨天的笔记里面的ABCDEFGH指别的，不是这一篇的硬件ABCD）
   
- 我用这种思路，把硬件（ABCD）、工具（Tn）和功能（Sn）尽量对应起来做成表格。我感觉这样应该比较好理解？

- 这个思路我是逐步形成的。除去最最开始的各种乱七八糟的模糊认知不管，真正的学习，先开始是初步去了解了这种设备是由哪些部分所组成的，这一步的时候，我先模拟成一个[餐盘](../content/mesh20251116.md)，由ABCD四类菜组合成一个套餐；A1B1C1组成基本套餐，A2B1C1D1组成运动会限定套餐，A2B2C1D1D2组成高级豪华套餐，这就代表了不同定位和不同价位的设备。基本上有了这个概念之后，剩下的就是去细化每个部分，每个部分细化成更多的部分之后再去分别细化，就这样慢慢来。一方面，可以给“我要买哪个套餐”带来理性的思路、而不是“他买啥我也买啥”“他们都说这个不行”；另一方面，也免得经常搞混，会问“为什么C2这个东西比A1甜”那是因为“C都是甜品，A都是肉类”，刚开始先做好分类，降低这类问题的数量。
  
![Mesh](../assets/20251120mesh.png)
  
| 软件功能 S | A:MCU | B:LoRa射频区 | C:天线与射频链路区 | D:外设区 | 对应工具 T |
|-----------|-----------|-----------|-----------|-----------|-------------|
| **硬件子模块列** | A1:ESP32<br>A2:ESP32-S3<br>A3:NRF52840<br>A4:RAM/Flash | B1:SX1262<br>B2:SX1268/1276<br>B3:PA/LNA | C1:433MHz天线<br>C2:868/915MHz天线<br>C3匹配网络(L/C)<br>C4外接SMA天线口 | D1:GPS<br>D2:IMU（六轴）<br>D3:OLED/液晶屏<br>D4:电源管理（18650/锂电池)<br>D5:按钮/键盘 |  |
| **S1** 基础消息 | ✔ | ✔ |   |   | T1 / T2 / T10 / T11 / T12 |
| **S2** 路由 | ✔ |   |   |   | T1 / T5 / T6 / T7 |
| **S3** 长距离链路 |   | ✔ | ✔ |   | T1 / T5 / T6 / T9 |
| **S4** GPS | ✔ |   |   | ✔ | T1 / T5 / T6 / T7 / T9 |
| **S5** 屏幕 UI | ✔ |   |   | ✔ | T1 / T2 |
| **S6** 低功耗 | ✔(A3) |   |   | ✔ | T1 / T2 / T9 |
| **S7** LoRa 参数 | ✔ | ✔ |   |   | T1 / T2 / T4 |
| **S8** 中继 Router | ✔ | ✔ | ✔ | ✔ | T1 / T2 / T5 / T6 |
| **S9** TNC / MQTT | ✔ |   |   |   | T7 / T8 / T9 / T10 / T11 |
| **S10** IMU | ✔ |   |   | ✔ | T1 / T10 |
| **S11** 心跳包 | ✔ |   |   |   | T1 / T9 |
| **S12** 多频道 | ✔ |   |   |   | T1 / T2 |
| **S13** 加密 | ✔ |   |   |   | T1 / T2 |
| **S14** 配置管理 | ✔ |   |   |   | T1 / T2 / T4 |
| **S15** 固件更新 | ✔ |   |   |   | T3 / T1 / T4 |
  
- 因为T这些工具，有时候会有新出的、或者那种本来有的但是作者不维护了就没了，所以这个电子表格不把具体的T也抄下来了，手写的笔记里面有。主要是方便理解，各种T就是把这些功能S封装起来，或者反过来各种功能S你可以通过使用T而实现起来。
- 有些专业词汇，我只看字面无法理解，所以就先替换成自己能理解的词或者任何方便的代号。
- 目前是搭框架，里面有些东西我也只是写着占个位置，并不知道具体是指什么，之后再慢慢查。





 